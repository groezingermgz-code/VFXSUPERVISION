// Umfassende Objektiv-Datenbank mit Herstellern und deren Objektiven
export const lensDatabase = {
  "Canon": {
    lenses: [
      "EF 16-35mm f/2.8L III USM",
      "EF 24-70mm f/2.8L II USM", 
      "EF 70-200mm f/2.8L IS III USM",
      "EF 85mm f/1.4L IS USM",
      "EF 50mm f/1.2L USM",
      "EF 35mm f/1.4L II USM",
      "EF 135mm f/2L USM",
      "EF 100mm f/2.8L Macro IS USM",
      "EF 14mm f/2.8L II USM",
      "EF 200mm f/2L IS USM",
      "RF 28-70mm f/2L USM",
      "RF 50mm f/1.2L USM",
      "RF 85mm f/1.2L USM",
      "RF 24-105mm f/4L IS USM",
      // Sumire Prime (FF, PL)
      "Sumire 14mm T3.1",
      "Sumire 20mm T1.5",
      "Sumire 24mm T1.5",
      "Sumire 35mm T1.5",
      "Sumire 50mm T1.3",
      "Sumire 85mm T1.3",
      "Sumire 135mm T2.2",
      // CN-E Zooms (S35)
      "CN-E 15.5-47mm T2.8",
      "CN-E 30-105mm T2.8",
      // CINE-SERVO (S35)
      "CINE-SERVO 17-120mm T2.95-3.9"
    ]
  },
  "Nikon": {
    lenses: [
      "AF-S NIKKOR 14-24mm f/2.8G ED",
      "AF-S NIKKOR 24-70mm f/2.8E ED VR",
      "AF-S NIKKOR 70-200mm f/2.8E FL ED VR",
      "AF-S NIKKOR 85mm f/1.4G",
      "AF-S NIKKOR 50mm f/1.4G",
      "AF-S NIKKOR 35mm f/1.4G",
      "AF-S NIKKOR 105mm f/2.8G IF-ED VR Micro",
      "AF-S NIKKOR 200mm f/2G ED VR II",
      "NIKKOR Z 24-70mm f/2.8 S",
      "NIKKOR Z 70-200mm f/2.8 VR S",
      "NIKKOR Z 50mm f/1.2 S",
      "NIKKOR Z 85mm f/1.2 S"
    ]
  },
  "Sony": {
    lenses: [
      "FE 16-35mm f/2.8 GM",
      "FE 24-70mm f/2.8 GM",
      "FE 70-200mm f/2.8 GM OSS",
      "FE 85mm f/1.4 GM",
      "FE 50mm f/1.2 GM",
      "FE 35mm f/1.4 GM",
      "FE 135mm f/1.8 GM",
      "FE 90mm f/2.8 Macro G OSS",
      "FE 14mm f/1.8 GM",
      "FE 200-600mm f/5.6-6.3 G OSS",
      "FE 24-105mm f/4 G OSS",
      "FE 100-400mm f/4.5-5.6 GM OSS"
    ]
  },
  "Zeiss": {
    lenses: [
      "CP.3 15mm T2.9",
      "CP.3 18mm T2.9", 
      "CP.3 21mm T2.9",
      "CP.3 25mm T2.1",
      "CP.3 28mm T2.1",
      "CP.3 35mm T2.1",
      "CP.3 50mm T2.1",
      "CP.3 85mm T2.1",
      "CP.3 100mm T2.1",
      "CP.3 135mm T2.1",
      "Master Prime 12mm T1.3",
      "Master Prime 14mm T1.3",
      "Master Prime 16mm T1.3",
      "Master Prime 18mm T1.3",
      "Master Prime 21mm T1.3",
      "Master Prime 25mm T1.3",
      "Master Prime 27mm T1.3",
      "Master Prime 32mm T1.3",
      "Master Prime 35mm T1.3",
      "Master Prime 40mm T1.3",
      "Master Prime 50mm T1.3",
      "Master Prime 65mm T1.3",
      "Master Prime 75mm T1.3",
      "Master Prime 85mm T1.3",
      "Master Prime 100mm T1.3",
      "Master Prime 135mm T1.3",
      // Supreme Prime (FF, PL)
      "Supreme Prime 15mm T1.8",
      "Supreme Prime 18mm T1.5",
      "Supreme Prime 21mm T1.5",
      "Supreme Prime 25mm T1.5",
      "Supreme Prime 29mm T1.5",
      "Supreme Prime 35mm T1.5",
      "Supreme Prime 40mm T1.5",
      "Supreme Prime 50mm T1.5",
      "Supreme Prime 65mm T1.5",
      "Supreme Prime 85mm T1.5",
      "Supreme Prime 100mm T1.5",
      "Supreme Prime 135mm T1.5",
      // Ultra Prime (S35, PL)
      "Ultra Prime 10mm T2.1",
      "Ultra Prime 12mm T2.0",
      "Ultra Prime 14mm T1.9",
      "Ultra Prime 16mm T1.9",
      "Ultra Prime 20mm T1.9",
      "Ultra Prime 24mm T1.9",
      "Ultra Prime 28mm T1.9",
      "Ultra Prime 32mm T1.9",
      "Ultra Prime 40mm T1.9",
      "Ultra Prime 50mm T1.9",
      "Ultra Prime 65mm T1.9",
      "Ultra Prime 85mm T1.9",
      "Ultra Prime 100mm T1.9",
      "Ultra Prime 135mm T1.9",
      "Ultra Prime 180mm T1.9",
      // Compact Zoom CZ.2 (FF, PL)
      "Compact Zoom CZ.2 15-30mm T2.9",
      "Compact Zoom CZ.2 28-80mm T2.9",
      "Compact Zoom CZ.2 70-200mm T2.9"
    ]
  },
  "Cooke": {
    lenses: [
      "S4/i 12mm T2.0",
      "S4/i 14mm T2.0",
      "S4/i 16mm T2.0",
      "S4/i 18mm T2.0",
      "S4/i 21mm T2.0",
      "S4/i 25mm T2.0",
      "S4/i 27mm T2.0",
      "S4/i 32mm T2.0",
      "S4/i 35mm T2.0",
      "S4/i 40mm T2.0",
      "S4/i 50mm T2.0",
      "S4/i 65mm T2.0",
      "S4/i 75mm T2.0",
      "S4/i 100mm T2.0",
      "S4/i 135mm T2.0",
      "S4/i 150mm T2.0",
      "S4/i 180mm T2.0",
      "S4/i 300mm T2.8",
      "S7/i FF 25mm T2.0",
      "S7/i FF 32mm T2.0",
      "S7/i FF 40mm T2.0",
      "S7/i FF 50mm T2.0",
      "S7/i FF 65mm T2.0",
      "S7/i FF 75mm T2.0",
      "S7/i FF 100mm T2.0",
      "S7/i FF 135mm T2.0"
    ]
  },
  "ARRI": {
    lenses: [
      "Signature Prime 12mm T1.8",
      "Signature Prime 16mm T1.8",
      "Signature Prime 18mm T1.8",
      "Signature Prime 21mm T1.8",
      "Signature Prime 25mm T1.8",
      "Signature Prime 29mm T1.8",
      "Signature Prime 35mm T1.8",
      "Signature Prime 40mm T1.8",
      "Signature Prime 47mm T1.8",
      "Signature Prime 58mm T1.8",
      "Signature Prime 65mm T1.8",
      "Signature Prime 75mm T1.8",
      "Signature Prime 95mm T1.8",
      "Signature Prime 125mm T1.8",
      "Master Macro 100mm T2.5"
    ]
  },
  "Leica": {
    lenses: [
      "Summilux-C 16mm T1.4",
      "Summilux-C 18mm T1.4",
      "Summilux-C 21mm T1.4",
      "Summilux-C 25mm T1.4",
      "Summilux-C 29mm T1.4",
      "Summilux-C 35mm T1.4",
      "Summilux-C 40mm T1.4",
      "Summilux-C 50mm T1.4",
      "Summilux-C 65mm T1.4",
      "Summilux-C 75mm T1.4",
      "Summilux-C 100mm T1.4",
      "Summilux-C 135mm T1.4",
      // Summicron-M / R / SL / C (Foto & SL)
      "Summicron-M 21mm f/2 ASPH",
      "Summicron-M 28mm f/2 ASPH",
      "Summicron-M 35mm f/2 ASPH",
      "APO-Summicron-M 35mm f/2 ASPH",
      "Summicron-C 40mm f/2",
      "Summicron-M 50mm f/2",
      "APO-Summicron-M 50mm f/2 ASPH",
      "Summicron-M 75mm f/2 ASPH",
      "Summicron-M 90mm f/2",
      "APO-Summicron-M 90mm f/2 ASPH",
      "Summicron-R 28mm f/2",
      "Summicron-R 35mm f/2",
      "Summicron-R 50mm f/2",
      "Summicron-R 90mm f/2",
      "Summicron-SL 28mm f/2 ASPH",
      "Summicron-SL 35mm f/2 ASPH",
      "Summicron-SL 50mm f/2 ASPH",
      "Summicron-SL 75mm f/2 ASPH",
      "Summicron-SL 90mm f/2 ASPH",
      // Summicron-C Cine (PL, S35, T2.0)
      "Summicron-C 18mm T2.0",
      "Summicron-C 21mm T2.0",
      "Summicron-C 25mm T2.0",
      "Summicron-C 29mm T2.0",
      "Summicron-C 35mm T2.0",
      "Summicron-C 40mm T2.0",
      "Summicron-C 50mm T2.0",
      "Summicron-C 75mm T2.0",
      "Summicron-C 100mm T2.0"
    ]
  },
  "Leitz": {
    lenses: [
      // Thalia Primes (LF/65, PL/LPL)
      "Thalia 30mm T2.9",
      "Thalia 35mm T2.6",
      "Thalia 45mm T2.9",
      "Thalia 55mm T2.8",
      "Thalia 70mm T2.6",
      "Thalia 100mm T2.2",
      "Thalia 120mm T3.6",
      "Thalia 180mm T3.6"
    ]
  },
  "Sigma": {
    lenses: [
      "14-24mm f/2.8 DG DN Art",
      "24-70mm f/2.8 DG DN Art",
      "70-200mm f/2.8 DG OS HSM Sports",
      "85mm f/1.4 DG DN Art",
      "50mm f/1.4 DG HSM Art",
      "35mm f/1.4 DG HSM Art",
      "135mm f/1.8 DG HSM Art",
      "105mm f/2.8 DG DN Macro Art",
      "14mm f/1.8 DG HSM Art",
      "20mm f/1.4 DG HSM Art"
    ]
  },

  "DZOFilm": {
    lenses: [
      "Vespid 25mm T2.1",
      "Vespid 35mm T2.1",
      "Vespid 50mm T2.1",
      "Vespid 75mm T2.1",
      "Vespid 100mm T2.1",
      "Vespid 125mm T2.1"
    ]
  },

  "Fujinon": {
    lenses: [
      // Premista (FF, PL)
      "Premista 19-45mm T2.9",
      "Premista 28-100mm T2.9",
      "Premista 80-250mm T2.9-3.5",
      // Cabrio (S35, PL)
      "Cabrio 19-90mm T2.9"
    ]
  },

  "Angenieux": {
    lenses: [
      "Optimo 24-290mm T2.8",
      "Optimo 17-80mm T2.2",
      "Optimo 28-76mm T2.6",
      "Optimo 45-120mm T2.8",
      "Optimo Style 16-40mm T2.8",
      "Optimo Style 30-76mm T2.8",
      "EZ-1 30-90mm T2",
      "EZ-2 15-40mm T2"
    ]
  }
};

// Helper-Funktionen für die Objektiv-Datenbank
export const getLensManufacturers = () => {
  return Object.keys(lensDatabase);
};

export const getLensesByManufacturer = (manufacturer) => {
  if (!manufacturer || !lensDatabase[manufacturer]) return [];
  return lensDatabase[manufacturer].lenses;
};

export const getLensFullName = (manufacturer, lens) => {
  if (!manufacturer || !lens) return '';
  return `${manufacturer} ${lens}`;
};

// Neue: Brennweite aus Objektivnamen extrahieren und Zoom kennzeichnen
export const parseFocalFromLensName = (lensModel) => {
  if (!lensModel) return { focalString: '', minMm: null, maxMm: null, isZoom: false };
  const s = String(lensModel);
  const rangeMatch = s.match(/(\d+(?:\.\d+)?)\s*[-–]\s*(\d+(?:\.\d+)?)\s*mm/i);
  if (rangeMatch) {
    const min = parseFloat(rangeMatch[1]);
    const max = parseFloat(rangeMatch[2]);
    return { focalString: `${min}-${max}mm`, minMm: min, maxMm: max, isZoom: true };
  }
  const singleMatch = s.match(/(\d+(?:\.\d+)?)\s*mm\b/i);
  if (singleMatch) {
    const mm = parseFloat(singleMatch[1]);
    return { focalString: `${mm}mm`, minMm: mm, maxMm: mm, isZoom: false };
  }
  return { focalString: '', minMm: null, maxMm: null, isZoom: false };
};

const buildLensMeta = () => {
  const meta = {};
  for (const manu of Object.keys(lensDatabase)) {
    meta[manu] = {};
    for (const lens of lensDatabase[manu].lenses) {
      const parsed = parseFocalFromLensName(lens);
      const type = parsed.isZoom ? 'Zoom' : (parsed.minMm ? 'Prime' : 'Unknown');
      // Detect metadata interface label from lens name
      const s = lens;
      let interfaceLabel = null;
      if (/\/i\b/i.test(s)) interfaceLabel = '/i';
      else if (/\bLDS-2\b/i.test(s)) interfaceLabel = 'LDS-2';
      else if (/\bLDS\b/i.test(s)) interfaceLabel = 'LDS';
      else if (/\bXD\b/i.test(s)) interfaceLabel = 'XD';
      meta[manu][lens] = {
        type,
        focal: parsed.focalString,
        minMm: parsed.minMm,
        maxMm: parsed.maxMm,
        isZoom: parsed.isZoom,
        isLds: /(\bLDS\b|\bLDS-2\b|\/i\b|\bXD\b)/i.test(lens),
        metadataInterface: interfaceLabel,
      };
    }
  }
  return meta;
};

export const lensMetaByManufacturer = buildLensMeta();

export const getLensMeta = (manufacturer, lensModel) => {
  if (!manufacturer || !lensModel) return null;
  const m = lensMetaByManufacturer[manufacturer];
  return m ? (m[lensModel] || null) : null;
};

export const isZoomLens = (manufacturer, lensModel) => {
  const meta = getLensMeta(manufacturer, lensModel);
  return !!(meta && meta.isZoom);
};

export const getFocalStringForLens = (manufacturer, lensModel) => {
  const meta = getLensMeta(manufacturer, lensModel);
  return meta?.focal || '';
};

export const isLdsLens = (manufacturer, lensModel) => {
  const meta = getLensMeta(manufacturer, lensModel);
  return !!(meta && meta.isLds);
};

// Zusätzliche Detaildatenbank für Objektive (Mount, Format, Jahr, Filtergewinde, Gewicht)
export const lensDetailsDatabase = {
  "Leica": {
    "Summicron-M 28mm f/2 ASPH": { mount: "M", format: "Full Frame", type: "Prime", filterThread: null, weightGrams: null, year: null },
    "Summicron-M 35mm f/2 ASPH": { mount: "M", format: "Full Frame", type: "Prime", filterThread: "E39", weightGrams: null, year: null },
    "APO-Summicron-M 35mm f/2 ASPH": { mount: "M", format: "Full Frame", type: "Prime", filterThread: "E39", weightGrams: null, year: null },
    "Summicron-M 50mm f/2": { mount: "M", format: "Full Frame", type: "Prime", filterThread: "E39", weightGrams: null, year: null },
    "APO-Summicron-M 50mm f/2 ASPH": { mount: "M", format: "Full Frame", type: "Prime", filterThread: "E39", weightGrams: null, year: null },
    "Summicron-M 75mm f/2 ASPH": { mount: "M", format: "Full Frame", type: "Prime", filterThread: null, weightGrams: null, year: null },
    "Summicron-M 90mm f/2": { mount: "M", format: "Full Frame", type: "Prime", filterThread: null, weightGrams: null, year: null },
    "APO-Summicron-M 90mm f/2 ASPH": { mount: "M", format: "Full Frame", type: "Prime", filterThread: null, weightGrams: null, year: null },
    "Summicron-C 40mm f/2": { mount: "C", format: "Full Frame", type: "Prime", filterThread: null, weightGrams: null, year: null },
    "Summicron-R 28mm f/2": { mount: "R", format: "Full Frame", type: "Prime", filterThread: null, weightGrams: null, year: null },
    "Summicron-R 35mm f/2": { mount: "R", format: "Full Frame", type: "Prime", filterThread: null, weightGrams: null, year: null },
    "Summicron-R 50mm f/2": { mount: "R", format: "Full Frame", type: "Prime", filterThread: null, weightGrams: null, year: null },
    "Summicron-R 90mm f/2": { mount: "R", format: "Full Frame", type: "Prime", filterThread: null, weightGrams: null, year: null },
    "Summicron-SL 28mm f/2 ASPH": { mount: "L", format: "Full Frame", type: "Prime", filterThread: null, weightGrams: null, year: null },
  "Summicron-SL 35mm f/2 ASPH": { mount: "L", format: "Full Frame", type: "Prime", filterThread: null, weightGrams: null, year: null },
  "Summicron-SL 50mm f/2 ASPH": { mount: "L", format: "Full Frame", type: "Prime", filterThread: null, weightGrams: null, year: null },
  "Summicron-SL 75mm f/2 ASPH": { mount: "L", format: "Full Frame", type: "Prime", filterThread: null, weightGrams: null, year: null },
  "Summicron-SL 90mm f/2 ASPH": { mount: "L", format: "Full Frame", type: "Prime", filterThread: null, weightGrams: null, year: null },
  // Summicron-C Cine (PL, S35, T2.0)
  "Summicron-C 18mm T2.0": { mount: "PL", format: "Super 35", type: "Prime", filterThread: null, weightGrams: null, year: null },
  "Summicron-C 21mm T2.0": { mount: "PL", format: "Super 35", type: "Prime", filterThread: null, weightGrams: null, year: null },
  "Summicron-C 25mm T2.0": { mount: "PL", format: "Super 35", type: "Prime", filterThread: null, weightGrams: null, year: null },
  "Summicron-C 29mm T2.0": { mount: "PL", format: "Super 35", type: "Prime", filterThread: null, weightGrams: null, year: null },
  "Summicron-C 35mm T2.0": { mount: "PL", format: "Super 35", type: "Prime", filterThread: null, weightGrams: null, year: null },
  "Summicron-C 40mm T2.0": { mount: "PL", format: "Super 35", type: "Prime", filterThread: null, weightGrams: null, year: null },
  "Summicron-C 50mm T2.0": { mount: "PL", format: "Super 35", type: "Prime", filterThread: null, weightGrams: null, year: null },
  "Summicron-C 75mm T2.0": { mount: "PL", format: "Super 35", type: "Prime", filterThread: null, weightGrams: null, year: null },
  "Summicron-C 100mm T2.0": { mount: "PL", format: "Super 35", type: "Prime", filterThread: null, weightGrams: null, year: null }
},








};

export const getLensDetails = (manufacturer, lensModel) => {
  if (!manufacturer || !lensModel) return null;
  const m = lensDetailsDatabase[manufacturer];
  return m ? (m[lensModel] || null) : null;
};

// Anamorphe Objektiv-Datenbank
export const anamorphicLensDatabase = {
  "Cooke": {
    lenses: [
      "Anamorphic/i 25mm T2.3",
      "Anamorphic/i 32mm T2.3",
      "Anamorphic/i 40mm T2.3",
      "Anamorphic/i 50mm T2.3",
      "Anamorphic/i 65mm Macro T2.3",
      "Anamorphic/i 75mm T2.3",
      "Anamorphic/i 100mm T2.3",
      "Anamorphic/i 135mm T2.3"
    ]
  },
  "ARRI": {
    lenses: [
      "Master Anamorphic 28mm T1.9",
      "Master Anamorphic 35mm T1.9",
      "Master Anamorphic 40mm T1.9",
      "Master Anamorphic 50mm T1.9",
      "Master Anamorphic 60mm T1.9",
      "Master Anamorphic 75mm T1.9",
      "Master Anamorphic 100mm T1.9",
      "Master Anamorphic 135mm T1.9"
    ]
  },
  "Zeiss": {
    lenses: [
      "Compact Anamorphic 28mm T2.0",
      "Compact Anamorphic 40mm T2.0",
      "Compact Anamorphic 50mm T2.0",
      "Compact Anamorphic 60mm T2.0",
      "Compact Anamorphic 85mm T2.0"
    ]
  },
  "Panavision": {
    lenses: [
      "C-Series 40mm T2.3",
      "C-Series 50mm T2.3",
      "C-Series 75mm T2.3",
      "E-Series 40mm T2.0",
      "E-Series 50mm T2.0",
      "E-Series 75mm T2.0",
      "G-Series 35mm T2.0",
      "G-Series 50mm T2.0",
      "G-Series 70mm T2.0"
    ]
  },
  "Hawk": {
    lenses: [
      "V-Lite 28mm T2.2 (2x)",
      "V-Lite 35mm T2.2 (2x)",
      "V-Lite 45mm T2.2 (2x)",
      "V-Lite 55mm T2.2 (2x)",
      "V-Lite 80mm T2.2 (2x)",
      "V-Lite 100mm T2.2 (2x)",
      "V-Plus 32mm T2.2 (2x)",
      "V-Plus 40mm T2.2 (2x)",
      "V-Plus 50mm T2.2 (2x)",
      "V-Plus 60mm T2.2 (2x)",
      "V-Plus 75mm T2.2 (2x)",
      "V-Plus 100mm T2.2 (2x)"
    ]
  },
  "Angenieux": {
    lenses: [
      "Optimo Anamorphic 30-72mm T4",
      "Optimo Anamorphic 56-152mm T4",
      "Optimo Anamorphic 44-440mm T4",
      "Optimo Ultra Compact 21-56mm A2S T4",
      "Optimo Ultra Compact 37-102mm A2S T4"
    ]
  },
  "Atlas": {
    lenses: [
      "Orion A 32mm T2",
      "Orion B 40mm T2",
      "Orion C 50mm T2",
      "Orion D 65mm T2",
      "Orion E 80mm T2",
      "Orion F 100mm T2"
    ]
  },
  "Atlas (Mercury)": {
    lenses: [
      "Mercury 36mm T2.2 (1.5x)",
      "Mercury 42mm T2.2 (1.5x)",
      "Mercury 57mm T2.2 (1.5x)"
    ]
  },
  "Sirui": {
    lenses: [
      "35mm T2 (1.33x)",
      "50mm T2 (1.33x)",
      "75mm T2 (1.33x)",
      "35mm T2 (1.6x)",
      "50mm T2 (1.6x)"
    ]
  },
  "Laowa": {
    lenses: [
      "Nanomorph 27mm T2.8 (1.5x)",
      "Nanomorph 35mm T2.4 (1.5x)",
      "Nanomorph 50mm T2.4 (1.5x)"
    ]
  },
  "Vazen": {
    lenses: [
      "Anamorphic 28mm T2.2 (1.8x)",
      "Anamorphic 40mm T2 (1.8x)",
      "Anamorphic 65mm T2 (1.8x)"
    ]
  },
  "Kowa": {
    lenses: [
      "Prominar 40mm (2x)",
      "Prominar 50mm (2x)"
    ]
  },
  "Lomo": {
    lenses: [
      "Roundfront 50mm (2x)",
      "Squarefront 75mm (2x)"
    ]
  },
  "Iscorama": {
    lenses: [
      "Iscorama 54 (1.5x)",
      "Iscorama 36 (1.5x)"
    ]
  }
};

export const getAnamorphicLensManufacturers = () => {
  return Object.keys(anamorphicLensDatabase);
};

export const getAnamorphicLensesByManufacturer = (manufacturer) => {
  if (!manufacturer || !anamorphicLensDatabase[manufacturer]) return [];
  return anamorphicLensDatabase[manufacturer].lenses;
};

// Ergänzung: Standard‑Anamorph‑Faktoren je Hersteller/Serie
export const getDefaultAnamorphicFactor = (manufacturer, lensModel) => {
  if (!manufacturer || !lensModel) return null;
  const manu = String(manufacturer).toLowerCase();
  const model = String(lensModel).toLowerCase();
  // Cooke Anamorphic/i → 2x
  if (manu === 'cooke' && /anamorphic\/i/.test(model)) return 2;
  // ARRI Master Anamorphic → 2x
  if (manu === 'arri' && /master\s+anamorphic/.test(model)) return 2;
  // Zeiss Compact Anamorphic → 2x
  if (manu === 'zeiss' && /compact\s+anamorphic/.test(model)) return 2;
  // Panavision C/E/G Series → 2x
  if (manu === 'panavision' && /(c\-series|e\-series|g\-series)/.test(model)) return 2;
  // Hawk V‑Lite / V‑Plus → 2x (Achtung: es gibt 1.3x Varianten, hier nicht gelistet)
  if (manu === 'hawk' && /(v\-lite|v\-plus)/.test(model)) return 2;
  // Angenieux Optimo Anamorphic → 2x; A2S → 2x (über extract bereits erkannt)
  if (manu === 'angenieux' && /optimo\s+anamorphic/.test(model)) return 2;
  if (manu === 'angenieux' && /a2s/.test(model)) return 2;
  // Atlas Orion → 2x
  if (manu === 'atlas' && /orion/.test(model)) return 2;
  return null;
};